#include "nlibrary.fz"

function add_mul_1
   (x : ![3.0]num) (a : num) (b: num)  (c: num) (d: num) : M[1.999e-15]num {
  let [x'] = x;
  s2 = mulfp (x',x');
  let x2 = s2;
  s3 = mulfp (x2,x');
  let x3 = s3;
  sa = mulfp (a,x3);
  let ax = sa;
  sb = mulfp (b,x2);
  let bx = sb;
  sc = mulfp (c,x');
  let cx = sc;
  sz1 = addfp (|cx,d|);
  let z1 = sz1;
  sz2 = addfp (|bx,z1|);
  let z2 = sz2;
  addfp (|ax,z2|)
}

function add_mul_2
   (x : ![3.0]num) (a : num) (b: num)  (c: num) (d: num) : M[1.333e-15]num {
  let [x'] = x;
  sa = mulfp (x',a);
  let ax = sa;
  sb = addfp (|b,ax|);
  let bp = sb;
  sz1 = mulfp (x',bp);
  let z1 = sz1;
  sc = addfp (|c,z1|);
  let cp = sc;
  sz2 = mulfp (x',cp);
  let z2 = sz2;
  addfp (|d,z2|)
}

add_mul_2
